base: ../globals.yaml

layers:

# 1995, 2000, 2009
# Not working for some reason, tried WMS, WMTS, and State Lambert, they only work in ArcMap!
#
  - name: naip1995
    title: NAIP 1995 1m B&W DOQ
    sources: [naip1995_cache]
    md:
      attribution:
        title: Oregon Explorer Natural Resources Digital Library
        url: https://oregonexplorer.info/

  - name: naip2000
    title: NAIP 2000 1m B&W DOQ
    sources: [naip2000_cache]
    md:
      attribution:
        title: Oregon Explorer Natural Resources Digital Library
        url: https://oregonexplorer.info/

  - name: naip2005
    title: NAIP 2005 1/2m 3-band Color
    sources: [naip2005_cache]
    md:
      attribution:
        title: Oregon Explorer Natural Resources Digital Library
        url: https://oregonexplorer.info/

  - name: naip2009
    title: NAIP 2009 1/2m 4-band
    sources: [naip2009_cache]
    md:
      attribution:
        title: Oregon Explorer Natural Resources Digital Library
        url: https://oregonexplorer.info/

  - name: naip2014
    title: NAIP 2014 1m 4-band
    sources: [naip2014_cache]
    md:
      attribution:
        title: Oregon Explorer Natural Resources Digital Library
        url: https://oregonexplorer.info/

  - name: naip2016
    title: NAIP 2016 1m 4-band
    sources: [naip2016_cache]
    md:
      attribution:
        title: Oregon Explorer Natural Resources Digital Library
        url: https://oregonexplorer.info/

  - name: osip2018
    title: OSIP 2018 1'
    sources: [osip2018_cache]
    md:
      attribution:
        title: Oregon Explorer Natural Resources Digital Library
        url: https://oregonexplorer.info/

caches:
  osip2018_cache:
    grids: [county]
    sources: [osip2018_source]
    format: image/jpeg
    request_format: image/jpeg
    cache:
      type: couchdb
      db_name: osip2018
      url: http://couchdb:5984
      tile_metadata: 
        tile_col: '{{x}}'
        tile_row: '{{y}}'
        tile_level: '{{z}}'
        created_ts: '{{timestamp}}'
        created: '{{utc_iso}}'
        center: '{{wgs_tile_centroid}}'
            
  naip2016_cache:
    grids: [county]
    sources: [naip2016_source]
    format: image/jpeg
    request_format: image/jpeg
    cache:
      type: couchdb
      db_name: naip2016
      url: http://couchdb:5984
      tile_metadata: 
        tile_col: '{{x}}'
        tile_row: '{{y}}'
        tile_level: '{{z}}'
        created_ts: '{{timestamp}}'
        created: '{{utc_iso}}'
        center: '{{wgs_tile_centroid}}'
            
  naip2014_cache:
    grids: [county]
    sources: [naip2014_source]
    format: image/jpeg
    request_format: image/jpeg
    cache:
      type: couchdb
      db_name: naip2014
      url: http://couchdb:5984
      tile_metadata: 
        tile_col: '{{x}}'
        tile_row: '{{y}}'
        tile_level: '{{z}}'
        created_ts: '{{timestamp}}'
        created: '{{utc_iso}}'
        center: '{{wgs_tile_centroid}}'
            
  naip2009_cache:
    grids: [county]
    sources: [naip2009_source]
    format: image/jpeg
    request_format: image/jpeg
    cache:
      type: couchdb
      db_name: naip2009
      url: http://couchdb:5984
      tile_metadata: 
        tile_col: '{{x}}'
        tile_row: '{{y}}'
        tile_level: '{{z}}'
        created_ts: '{{timestamp}}'
        created: '{{utc_iso}}'
        center: '{{wgs_tile_centroid}}'
            
  naip2005_cache:
    grids: [county]
    sources: [naip2005_source]
    format: image/jpeg
    request_format: image/jpeg
    cache:
      type: couchdb
      db_name: naip2005
      url: http://couchdb:5984
      tile_metadata: 
        tile_col: '{{x}}'
        tile_row: '{{y}}'
        tile_level: '{{z}}'
        created_ts: '{{timestamp}}'
        created: '{{utc_iso}}'
        center: '{{wgs_tile_centroid}}'
            
  naip2000_cache:
    grids: [county]
    sources: [naip2000_source]
    format: image/jpeg
    request_format: image/jpeg
    cache:
      type: couchdb
      db_name: naip2000
      url: http://couchdb:5984
      tile_metadata: 
        tile_col: '{{x}}'
        tile_row: '{{y}}'
        tile_level: '{{z}}'
        created_ts: '{{timestamp}}'
        created: '{{utc_iso}}'
        center: '{{wgs_tile_centroid}}'
            
  naip1995_cache:
    grids: [county]
    sources: [naip1995_source]
    format: image/jpeg
    request_format: image/jpeg
    cache:
      type: couchdb
      db_name: naip1995
      url: http://couchdb:5984
      tile_metadata: 
        tile_col: '{{x}}'
        tile_row: '{{y}}'
        tile_level: '{{z}}'
        created_ts: '{{timestamp}}'
        created: '{{utc_iso}}'
        center: '{{wgs_tile_centroid}}'
            
sources:
  osip2018_source:
    type: arcgis
    req:
      url: http://imagery.oregonexplorer.info/arcgis/rest/services/OSIP_2018/OSIP_2018_WM/ImageServer

  naip2016_source:
    type: arcgis
    req:
      url: http://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_2016/NAIP_2016_WM/ImageServer

  naip2014_source:
    type: arcgis
    req:
      url: http://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_2014/NAIP_2014_WM/ImageServer

  naip2009_source:
    type: arcgis
    req:
      url: http://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_2009/NAIP_2009_WM/ImageServer
# /tile/%(z)s/%(y)s/%(x)s
#    grid: county

  naip2005_source:
    type: arcgis
    req:
      url: http://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_2009/NAIP_2005_WM/ImageServer
# /tile/%(z)s/%(y)s/%(x)s
#    grid: county

  naip2000_source:
    type: arcgis
    req:
      url: http://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_2000/NAIP_2000_WM/ImageServer
# /tile/%(z)s/%(y)s/%(x)s
#    grid: county

  naip1995_source:
    type: arcgis
    req:
      url: http://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_1995/NAIP_1995_WM/ImageServer
# /tile/%(z)s/%(y)s/%(x)s
#    grid: county

grids:
  county:
    base: GLOBAL_WEBMERCATOR
    bbox: [-124.1,45.77,-123.35,46.3] # Clatsop county
    bbox_srs: EPSG:4326

